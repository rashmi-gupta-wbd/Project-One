name: Print Message on Deployment

# Trigger on deployment
on:
  push:
    branches:
      - main  # Make sure your push is going to `main`

  deployment_status:
    types: [success]

jobs:
  print-message:
    runs-on: ${{ matrix.os }}

    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest, macos-latest]

    steps:
      # Checkout the code from the repository
      - name: Checkout code
        uses: actions/checkout@v3

      # Print the message
      - name: Print deployment message
        run: |
          echo "this string is printed on deployment"
        shell: bash # By default, bash works across Linux and macOS
        if: runner.os != 'Windows' # This ensures Windows uses PowerShell, but you can also use bash if preferred.
        
      # Windows specific step to use PowerShell for printing message
      - name: Print deployment message on Windows
        run: |
          Write-Host "this string is printed on deployment"
        shell: pwsh
        if: runner.os == 'Windows'
